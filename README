# Boobank PHP

tools for weboob/boobank usage in php

## dependencies
 - apt-get install weboob weboob-qt
 - weboob-config-update

 a better solution is to use venvs as defined at http://weboob.org/install

## installation


Step 1: Download the Bundle
---------------------------

Open a command console, enter your project directory and execute the
following command to download the latest stable version of this bundle:

```console
$ composer require boobank "~1"
```

This command requires you to have Composer installed globally, as explained
in the [installation chapter](https://getcomposer.org/doc/00-intro.md)
of the Composer documentation.

Step 2: Enable the Bundle
-------------------------

Then, enable the bundle by adding it to the list of registered bundles
in the `app/AppKernel.php` file of your project:

```php
<?php
// app/AppKernel.php

// ...
class AppKernel extends Kernel
{
    public function registerBundles()
    {
        $bundles = array(
            // ...
            new SamKer\BoobankBundle\SamBoobankBundle(),
        );

        // ...
    }

    // ...
}
````
Step 3: Edit Parameters
-------------------------
default boobank command at /usr/bin
but you can define another bin path in parameters.yml
```yml
  boobank:
        bin_path:"/var/www/.local/venvs/weboob/bin" #or /usr/bin
        dateInterval: "P30D" #interval date default
```
        
Step 4: Registered commands
--------------------------
you can use command line as follow
```bash
- boobank:backend:add --name=[backend]
- boobank:backend:list --name=[backend]
- boobank:backend:remove --name=[backend]

- boobank:account:list [backend]
- boobank:account:history -b [backend] -a [account] -d [date] -f [filters,..]
```

or use service
```php
$boobank = $container->get('boobank');
//list backend
$list = $boobank->listAccount($backend);
//history
$history = $boobank->getHistory($account, $backend, $date, $filters);
```

for use in web mod
create directory
/var/www/.config/
/var/www/.local/

chown www-data: -R /var/www/.config/
chown www-data: -R /var/www/.local/

chmod 700 -R /var/www/.config/
chmod 700 -R /var/www/.local/